{% load static %}
{% load i18n %}
<!DOCTYPE HTML>
<html >
<head>
<meta charset="utf-8">
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="max-age=604800" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
<title>GreatKart | One of the Biggest Online Shopping Platform</title>

<link href="{% static 'images/favicon.ico' %}" rel="shortcut icon" type="image/x-icon">

<!-- jQuery -->
<script src="{% static 'js/jquery-2.0.0.min.js' %}" type="text/javascript"></script>

<!-- Bootstrap4 files-->
<script src="{% static 'js/bootstrap.bundle.min.js' %}" type="text/javascript"></script>
<link href="{% static 'css/bootstrap.css' %}" rel="stylesheet" type="text/css"/>

<!-- Font awesome 5 -->
<link href="{% static 'fonts/fontawesome/css/all.min.css' %}" type="text/css" rel="stylesheet">

<!-- custom style -->
<link href="{% static 'css/ui.css' %}" rel="stylesheet" type="text/css"/>
<link href="{% static 'css/responsive.css' %}" rel="stylesheet" media="only screen and (max-width: 1200px)" />

<link href="{% static 'css/custom.css' %}" rel="stylesheet" type="text/css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- custom javascript -->
<script src="{% static 'js/script.js' %}" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="{% static 'js/jquery-3.3.1.min.js' %}" type="text/javascript"></script>


<!-- PayPal Script -->
<script src="https://www.paypal.com/sdk/js?client-id=Ac5L4MvNsMht73AjdGXtPO1gWbnQoUAlttDFTOh_tGGoOV5_ql9rcU8Gk0xhLa3pDj_fU1dO5L0nox7O&currency=USD"></script>

<script type="text/javascript">
/// some script

// jquery ready start
$(document).ready(function() {
	// jQuery code

});
// jquery end
</script>
<script src="https://js.stripe.com/v3/"></script>
<script type="text/javascript">
	// Create an instance of the Stripe object with your publishable API key
	console.log("Sanity check!");

// Get Stripe publishable key
fetch("/config/")
.then((result) => { return result.json(); })
.then((data) => {
// Initialize Stripe.js
const stripe = Stripe(data.publicKey);

// new
// Event handler
document.querySelector("#submitBtn").addEventListener("click", () => {
  // Get Checkout Session ID
  fetch("/create-checkout-session/")
  .then((result) => { return result.json(); })
  .then((data) => {
	console.log(data);
	// Redirect to Stripe Checkout
	return stripe.redirectToCheckout({sessionId: data.sessionId})
  })
  .then((res) => {
	console.log(res);
  });
});
});
  </script>
</head>
<body>
  
  <!-- navbar -->
  {% include 'includes/navbar.html' %}

  {% block content %}
  <!-- content -->
  {% endblock %}


<!-- footer -->
{% include 'includes/footer.html' %}
